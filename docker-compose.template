version: "3.8"
services:
  app:
    build: .
    cap_add:
      - SYS_ADMIN
    tmpfs:
    - /run
    - /tmp
    - /run/lock
    hostname: snapshot-processor
    ports:
      - "4041:4040"
      - "80:8080"
      - "21:21"
    volumes:
      - ./data:/data
      - /sys/fs/cgroup/:/sys/fs/cgroup:ro
    environment:
      FLASK_ENV: development
